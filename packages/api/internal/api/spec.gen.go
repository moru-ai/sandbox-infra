// Package api provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.4.1 DO NOT EDIT.
package api

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"g81Qfvvl9n8DAAD//4k43HWG5AAA",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
